const a0_0x4ca7e4=a0_0x3755;function a0_0x3755(_0x89a573,_0x2f0228){const _0x534345=a0_0x5343();return a0_0x3755=function(_0x3755eb,_0x247727){_0x3755eb=_0x3755eb-0xa6;let _0x82cb03=_0x534345[_0x3755eb];return _0x82cb03;},a0_0x3755(_0x89a573,_0x2f0228);}(function(_0xcc4241,_0x188e75){const _0x173341=a0_0x3755,_0x2fd15e=_0xcc4241();while(!![]){try{const _0x3c6d8e=parseInt(_0x173341(0xc4))/0x1*(-parseInt(_0x173341(0xad))/0x2)+parseInt(_0x173341(0xaa))/0x3*(parseInt(_0x173341(0xaf))/0x4)+-parseInt(_0x173341(0xbf))/0x5+-parseInt(_0x173341(0xba))/0x6*(parseInt(_0x173341(0xcd))/0x7)+parseInt(_0x173341(0xcb))/0x8*(-parseInt(_0x173341(0xc0))/0x9)+-parseInt(_0x173341(0xb7))/0xa*(parseInt(_0x173341(0xae))/0xb)+-parseInt(_0x173341(0xa8))/0xc*(-parseInt(_0x173341(0xbe))/0xd);if(_0x3c6d8e===_0x188e75)break;else _0x2fd15e['push'](_0x2fd15e['shift']());}catch(_0x4d24c9){_0x2fd15e['push'](_0x2fd15e['shift']());}}}(a0_0x5343,0xb1890));function a0_0x5343(){const _0x13f187=['list','110iMKKHL','\x20â†’\x20ERROR:\x20','search','4884peDmha','log','requestHeaders','map','58136VbgaDh','5151170WKanWh','4595364kmTFLo','name','GET','push','4031aIDyCc','json','stringify','/set','body','toString','all','16JvRQmj','keysPaged','11585nDXyow','entries','getItem','POST','9588BsprAX','removeItem','9MYoDtp','clear','/list','128KnhxQA','347919HFtTal','1544740mCdyTK','/delete','message','fetch','/getWithMetadata','https://remote-storage.dan-5d7.workers.dev/v1','keys'];a0_0x5343=function(){return _0x13f187;};return a0_0x5343();}export class RemoteStorage{constructor(_0x3009d3,_0x17b32d){const _0x40dfc5=a0_0x3755;this['namespace']=_0x3009d3,this['endpoint']=_0x40dfc5(0xb4),this['requestHeaders']={'Authorization':_0x17b32d,'Content-Type':'application/json'};}async[a0_0x4ca7e4(0xb5)](){const _0x28151c=a0_0x4ca7e4;let _0x202ad6=[],_0x3e91c5=null;while(!![]){const {keys:_0x65c442,cursor:_0x114db3,list_complete:_0xafc132}=await this[_0x28151c(0xcc)]({'cursor':_0x3e91c5});_0x202ad6[_0x28151c(0xc3)](..._0x65c442);if(_0xafc132)break;_0x3e91c5=_0x114db3;}return _0x202ad6;}async[a0_0x4ca7e4(0xcc)]({limit:limit=0x3e8,cursor:_0x26c649=null}={}){const _0x1fcf29=a0_0x4ca7e4,{items:_0x4bf500,cursor:_0x2af1e6,list_complete:_0x51f49d}=await this[_0x1fcf29(0xb6)]({'limit':limit,'cursor':_0x26c649}),_0x5ead6e=_0x4bf500['map'](_0x281f5e=>_0x281f5e[_0x1fcf29(0xc1)]);return{'keys':_0x5ead6e,'cursor':_0x2af1e6,'list_complete':_0x51f49d};}async['getNamespace'](){const _0x5bdc79=a0_0x4ca7e4;let _0x5acb58={},_0xe26df1=null;while(!![]){const {items:_0x59f971,cursor:_0x227414,list_complete:_0x52f44e}=await this[_0x5bdc79(0xb6)]({'cursor':_0xe26df1});for(let _0x4ea695 of _0x59f971){const {name:_0x4dec5d,metadata:_0xcbc7f7}=_0x4ea695,_0x485590=await this[_0x5bdc79(0xa6)](_0x4dec5d);_0x5acb58[_0x4dec5d]={'value':_0x485590,'metadata':_0xcbc7f7};}if(_0x52f44e)break;_0xe26df1=_0x227414;}return _0x5acb58;}async[a0_0x4ca7e4(0xb6)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0xb78591=a0_0x4ca7e4;return this[_0xb78591(0xb2)](_0xb78591(0xc2),_0xb78591(0xac),null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x13096f,_0x216e5c){const _0x32bf05=a0_0x4ca7e4;return this[_0x32bf05(0xb2)](_0x32bf05(0xa7),_0x32bf05(0xc7),{'key':_0x13096f,'value':_0x216e5c});}async[a0_0x4ca7e4(0xa6)](_0x26794e){const _0x318197=a0_0x4ca7e4;return this[_0x318197(0xb2)](_0x318197(0xc2),'/get',null,{'key':_0x26794e});}async['getItemWithMetadata'](_0x2d2287){const _0x158007=a0_0x4ca7e4;return this[_0x158007(0xb2)](_0x158007(0xc2),_0x158007(0xb3),null,{'key':_0x2d2287});}async[a0_0x4ca7e4(0xa9)](_0x476298){const _0x349e6c=a0_0x4ca7e4;return this[_0x349e6c(0xb2)]('DELETE',_0x349e6c(0xb0),null,{'key':_0x476298});}async[a0_0x4ca7e4(0xab)](){const _0x9bac4=a0_0x4ca7e4,_0x30d216=await this[_0x9bac4(0xb5)](),_0x4851cb=_0x30d216[_0x9bac4(0xbd)](_0x1e7896=>this[_0x9bac4(0xa9)](_0x1e7896));return await Promise[_0x9bac4(0xca)](_0x4851cb),null;}async[a0_0x4ca7e4(0xb2)](_0x78d9aa,_0x3c4ad8,_0x3fe2c6=null,_0x3129bf={}){const _0x3bc9c4=a0_0x4ca7e4;_0x3129bf={..._0x3129bf,'namespace':this['namespace']};let _0x33100d=new URL(''+this['endpoint']+_0x3c4ad8);const _0x1306af=new URLSearchParams();for(const [_0x48776e,_0x54dc93]of Object[_0x3bc9c4(0xce)](_0x3129bf)){_0x54dc93!==undefined&&_0x54dc93!==null&&_0x1306af['append'](_0x48776e,_0x54dc93);}_0x33100d[_0x3bc9c4(0xb9)]=_0x1306af[_0x3bc9c4(0xc9)]();const _0x4180d6={'method':_0x78d9aa,'headers':this[_0x3bc9c4(0xbc)]};if(_0x3fe2c6)_0x4180d6[_0x3bc9c4(0xc8)]=JSON[_0x3bc9c4(0xc6)](_0x3fe2c6);try{const _0x4d3cc4=await fetch(_0x33100d,_0x4180d6),_0x4e5a6e=await _0x4d3cc4[_0x3bc9c4(0xc5)]();if(!_0x4d3cc4['ok'])throw{'error':_0x4e5a6e};return _0x4e5a6e;}catch(_0x2eddad){console[_0x3bc9c4(0xbb)](_0x78d9aa+'\x20'+_0x33100d+_0x3bc9c4(0xb8)+_0x2eddad[_0x3bc9c4(0xb1)]);throw _0x2eddad;}}}