const a0_0x40e104=a0_0x15e4;(function(_0x57c091,_0x27983c){const _0x19bb7d=a0_0x15e4,_0x11cce8=_0x57c091();while(!![]){try{const _0x635038=parseInt(_0x19bb7d(0x101))/0x1+parseInt(_0x19bb7d(0x105))/0x2*(parseInt(_0x19bb7d(0x103))/0x3)+parseInt(_0x19bb7d(0xfa))/0x4*(parseInt(_0x19bb7d(0xfd))/0x5)+-parseInt(_0x19bb7d(0x109))/0x6+-parseInt(_0x19bb7d(0x104))/0x7*(parseInt(_0x19bb7d(0xf2))/0x8)+-parseInt(_0x19bb7d(0x10d))/0x9+parseInt(_0x19bb7d(0xf4))/0xa;if(_0x635038===_0x27983c)break;else _0x11cce8['push'](_0x11cce8['shift']());}catch(_0x89612c){_0x11cce8['push'](_0x11cce8['shift']());}}}(a0_0x1f07,0xdf31d));function a0_0x15e4(_0x5de7ca,_0x3bb756){const _0x1f07e9=a0_0x1f07();return a0_0x15e4=function(_0x15e4f7,_0x52abea){_0x15e4f7=_0x15e4f7-0xea;let _0x46e3b1=_0x1f07e9[_0x15e4f7];return _0x46e3b1;},a0_0x15e4(_0x5de7ca,_0x3bb756);}function a0_0x1f07(){const _0x2873c9=['fetch','stringify','search','/set','99416TtuSwr','message','application/json','85zUoCCY','map','entries','DELETE','981658mGPVpK','all','13848XjYXls','7TVjFaM','136HkFNHH','POST','\x20â†’\x20ERROR:\x20','list','6830874PPqekK','GET','toString','/get','9857376RyaKeK','keys','endpoint','getItem','getItemWithMetadata','name','namespace','requestHeaders','json','body','append','keysPaged','removeItem','12346824KFdmeP','log','29732370gCjGOC','https://remote-storage.dan-5d7.workers.dev/v1'];a0_0x1f07=function(){return _0x2873c9;};return a0_0x1f07();}export class RemoteStorage{constructor(_0x4d7937,_0x429ac7){const _0x590b82=a0_0x15e4;this[_0x590b82(0xeb)]=_0x4d7937,this[_0x590b82(0x10f)]=_0x590b82(0xf5),this[_0x590b82(0xec)]={'Authorization':_0x429ac7,'Content-Type':_0x590b82(0xfc)};}async['keys'](){const _0x358c2c=a0_0x15e4;let _0x597881=[],_0x2a673c=null;while(!![]){const {keys:_0x572927,cursor:_0x56ff87,list_complete:_0xb5553a}=await this[_0x358c2c(0xf0)]({'cursor':_0x2a673c});_0x597881['push'](..._0x572927);if(_0xb5553a)break;_0x2a673c=_0x56ff87;}return _0x597881;}async[a0_0x40e104(0xf0)]({limit:limit=0x3e8,cursor:_0x93172b=null}={}){const _0x281029=a0_0x40e104,{items:_0x1bc76e,cursor:_0x475f21,list_complete:_0x1725eb}=await this['list']({'limit':limit,'cursor':_0x93172b}),_0x10aed8=_0x1bc76e['map'](_0x14c715=>_0x14c715[_0x281029(0xea)]);return{'keys':_0x10aed8,'cursor':_0x475f21,'list_complete':_0x1725eb};}async[a0_0x40e104(0x108)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x1ee4dc=a0_0x40e104;return this[_0x1ee4dc(0xf6)](_0x1ee4dc(0x10a),'/list',null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x10a4d1,_0x3b31e9){const _0x332535=a0_0x40e104;return this[_0x332535(0xf6)](_0x332535(0x106),_0x332535(0xf9),{'key':_0x10a4d1,'value':_0x3b31e9});}async[a0_0x40e104(0x110)](_0x21f751){const _0x1285ac=a0_0x40e104;return this[_0x1285ac(0xf6)](_0x1285ac(0x10a),_0x1285ac(0x10c),null,{'key':_0x21f751});}async[a0_0x40e104(0x111)](_0x1463ac){const _0x1aeb37=a0_0x40e104;return this[_0x1aeb37(0xf6)]('GET','/getWithMetadata',null,{'key':_0x1463ac});}async[a0_0x40e104(0xf1)](_0x31c85c){const _0x1f4229=a0_0x40e104;return this[_0x1f4229(0xf6)](_0x1f4229(0x100),'/delete',null,{'key':_0x31c85c});}async['clear'](){const _0x57027f=a0_0x40e104,_0x43e7d0=await this[_0x57027f(0x10e)](),_0x49ae8a=_0x43e7d0[_0x57027f(0xfe)](_0x18a956=>this[_0x57027f(0xf1)](_0x18a956));return await Promise[_0x57027f(0x102)](_0x49ae8a),null;}async[a0_0x40e104(0xf6)](_0x3aee76,_0x17146e,_0x478b9c=null,_0x6632e4={}){const _0x3485f9=a0_0x40e104;_0x6632e4={..._0x6632e4,'namespace':this[_0x3485f9(0xeb)]};let _0x2517b7=new URL(''+this[_0x3485f9(0x10f)]+_0x17146e);const _0x2ccc4c=new URLSearchParams();for(const [_0x10a144,_0xd2c09b]of Object[_0x3485f9(0xff)](_0x6632e4)){_0xd2c09b!==undefined&&_0xd2c09b!==null&&_0x2ccc4c[_0x3485f9(0xef)](_0x10a144,_0xd2c09b);}_0x2517b7[_0x3485f9(0xf8)]=_0x2ccc4c[_0x3485f9(0x10b)]();const _0x5ac5e8={'method':_0x3aee76,'headers':this[_0x3485f9(0xec)]};if(_0x478b9c)_0x5ac5e8[_0x3485f9(0xee)]=JSON[_0x3485f9(0xf7)](_0x478b9c);try{const _0x30c44c=await fetch(_0x2517b7,_0x5ac5e8),_0x599f7c=await _0x30c44c[_0x3485f9(0xed)]();if(!_0x30c44c['ok'])throw{'error':_0x599f7c};return _0x599f7c;}catch(_0x5dafe1){console[_0x3485f9(0xf3)](_0x3aee76+'\x20'+_0x2517b7+_0x3485f9(0x107)+_0x5dafe1[_0x3485f9(0xfb)]);throw _0x5dafe1;}}}