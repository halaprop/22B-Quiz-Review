const a0_0xd5dbf2=a0_0x393b;function a0_0x393b(_0x5b4b1a,_0x1612d3){const _0x39a628=a0_0x39a6();return a0_0x393b=function(_0x393b38,_0x22ae11){_0x393b38=_0x393b38-0xee;let _0x4b47f8=_0x39a628[_0x393b38];return _0x4b47f8;},a0_0x393b(_0x5b4b1a,_0x1612d3);}(function(_0x1920eb,_0x5c984e){const _0x239995=a0_0x393b,_0x175790=_0x1920eb();while(!![]){try{const _0x3d9da4=-parseInt(_0x239995(0xfc))/0x1+parseInt(_0x239995(0xf8))/0x2*(-parseInt(_0x239995(0xfe))/0x3)+-parseInt(_0x239995(0x104))/0x4*(-parseInt(_0x239995(0x115))/0x5)+-parseInt(_0x239995(0x118))/0x6*(-parseInt(_0x239995(0x116))/0x7)+-parseInt(_0x239995(0x11a))/0x8*(parseInt(_0x239995(0x117))/0x9)+-parseInt(_0x239995(0x111))/0xa*(-parseInt(_0x239995(0xf9))/0xb)+-parseInt(_0x239995(0x107))/0xc;if(_0x3d9da4===_0x5c984e)break;else _0x175790['push'](_0x175790['shift']());}catch(_0xbb3297){_0x175790['push'](_0x175790['shift']());}}}(a0_0x39a6,0x8dbce));function a0_0x39a6(){const _0x208ff7=['list','message','4720356gaTXva','application/json','push','keys','POST','name','\x20â†’\x20ERROR:\x20','body','getItem','endpoint','10kbAkKj','removeItem','all','getItemWithMetadata','1315TOvxZb','7otveyb','1170tUdFHJ','5468526ZUwnpK','setItem','35128EJWqBH','/delete','/get','DELETE','keysPaged','log','append','map','requestHeaders','entries','stringify','1073896vtNQvG','11537537ZNmgRV','https://remote-storage.dan-5d7.workers.dev/v1','/list','74524gFpsKh','namespace','3XSriyz','fetch','clear','GET','json','/set','2980FXhmNV'];a0_0x39a6=function(){return _0x208ff7;};return a0_0x39a6();}export class RemoteStorage{constructor(_0x462af2,_0x5e9575){const _0x4e07b4=a0_0x393b;this[_0x4e07b4(0xfd)]=_0x462af2,this[_0x4e07b4(0x110)]=_0x4e07b4(0xfa),this[_0x4e07b4(0xf5)]={'Authorization':_0x5e9575,'Content-Type':_0x4e07b4(0x108)};}async[a0_0xd5dbf2(0x10a)](){const _0x38b3e3=a0_0xd5dbf2;let _0x45dc8d=[],_0x55cf4a=null;while(!![]){const {keys:_0x5c86cd,cursor:_0x4c3017,list_complete:_0x59007d}=await this['keysPaged']({'cursor':_0x55cf4a});_0x45dc8d[_0x38b3e3(0x109)](..._0x5c86cd);if(_0x59007d)break;_0x55cf4a=_0x4c3017;}return _0x45dc8d;}async[a0_0xd5dbf2(0xf1)]({limit:limit=0x3e8,cursor:_0x241325=null}={}){const _0x4c8cdc=a0_0xd5dbf2,{items:_0xc259ee,cursor:_0x411fc9,list_complete:_0x2ac656}=await this[_0x4c8cdc(0x105)]({'limit':limit,'cursor':_0x241325}),_0x79c45d=_0xc259ee[_0x4c8cdc(0xf4)](_0x4caca6=>_0x4caca6[_0x4c8cdc(0x10c)]);return{'keys':_0x79c45d,'cursor':_0x411fc9,'list_complete':_0x2ac656};}async['getNamespace'](){const _0xa00079=a0_0xd5dbf2;let _0x35ff9a={},_0x2db14f=null;while(!![]){const {items:_0x5c05e3,cursor:_0xd32ff6,list_complete:_0x31b296}=await this[_0xa00079(0x105)]({'cursor':_0x2db14f});for(let _0x2a0b71 of _0x5c05e3){const {name:_0x10b3c7,metadata:_0x3fc195}=_0x2a0b71,_0x386737=await this[_0xa00079(0x10f)](_0x10b3c7);_0x35ff9a[_0x10b3c7]={'value':_0x386737,'metadata':_0x3fc195};}if(_0x31b296)break;_0x2db14f=_0xd32ff6;}return _0x35ff9a;}async[a0_0xd5dbf2(0x105)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x185be1=a0_0xd5dbf2;return this[_0x185be1(0xff)](_0x185be1(0x101),_0x185be1(0xfb),null,{'limit':limit,'cursor':cursor});}async[a0_0xd5dbf2(0x119)](_0x2287de,_0x5af9f6){const _0x1c3444=a0_0xd5dbf2;return this['fetch'](_0x1c3444(0x10b),_0x1c3444(0x103),{'key':_0x2287de,'value':_0x5af9f6});}async[a0_0xd5dbf2(0x10f)](_0x3e7524){const _0x3e4c6a=a0_0xd5dbf2;return this[_0x3e4c6a(0xff)](_0x3e4c6a(0x101),_0x3e4c6a(0xef),null,{'key':_0x3e7524});}async[a0_0xd5dbf2(0x114)](_0x3adadf){const _0x1f655a=a0_0xd5dbf2;return this[_0x1f655a(0xff)](_0x1f655a(0x101),'/getWithMetadata',null,{'key':_0x3adadf});}async[a0_0xd5dbf2(0x112)](_0x226336){const _0x250f46=a0_0xd5dbf2;return this['fetch'](_0x250f46(0xf0),_0x250f46(0xee),null,{'key':_0x226336});}async[a0_0xd5dbf2(0x100)](){const _0x4a846d=a0_0xd5dbf2,_0x256a95=await this[_0x4a846d(0x10a)](),_0x1e0366=_0x256a95[_0x4a846d(0xf4)](_0x54183c=>this['removeItem'](_0x54183c));return await Promise[_0x4a846d(0x113)](_0x1e0366),null;}async[a0_0xd5dbf2(0xff)](_0x51f8c1,_0x39d458,_0x5162d2=null,_0x946882={}){const _0xc4084f=a0_0xd5dbf2;_0x946882={..._0x946882,'namespace':this[_0xc4084f(0xfd)]};let _0x12d126=new URL(''+this['endpoint']+_0x39d458);const _0x5afd4d=new URLSearchParams();for(const [_0x589d4b,_0x18c0d4]of Object[_0xc4084f(0xf6)](_0x946882)){_0x18c0d4!==undefined&&_0x18c0d4!==null&&_0x5afd4d[_0xc4084f(0xf3)](_0x589d4b,_0x18c0d4);}_0x12d126['search']=_0x5afd4d['toString']();const _0x45d9ab={'method':_0x51f8c1,'headers':this[_0xc4084f(0xf5)]};if(_0x5162d2)_0x45d9ab[_0xc4084f(0x10e)]=JSON[_0xc4084f(0xf7)](_0x5162d2);try{const _0x1e2d5f=await fetch(_0x12d126,_0x45d9ab),_0x3df91d=await _0x1e2d5f[_0xc4084f(0x102)]();if(!_0x1e2d5f['ok'])throw{'error':_0x3df91d};return _0x3df91d;}catch(_0x103e37){console[_0xc4084f(0xf2)](_0x51f8c1+'\x20'+_0x12d126+_0xc4084f(0x10d)+_0x103e37[_0xc4084f(0x106)]);throw _0x103e37;}}}